class t{apply(t,e){this.sdk=t,this.options=e;const{types:s}=this.sdk;this.options.disable_sdk_monitor||this.options.channel_domain||this.sdk.on(s.Ready,(()=>{this.reportLoad()}))}reportLoad(){const t=this.sdk.env.get(),{user:e,header:s}=t,i=this.sdk.env.merge([{event:"onload",params:Object.assign(Object.assign(Object.assign({},e),s),this.options)}]);i[0].header.app_id=1338,this.report(i)}report(t){if(!this.reportUrl){let t=this.sdk.get("report_url");if(!t)return;t+=(t.indexOf("?")?"&":"?")+"type=monitor",this.reportUrl=t}this.sdk.adapter.request({url:this.reportUrl,method:"POST",header:{"X-MCS-AppKey":"566f58151b0ed37e"},data:t})}}t.pluginName="official:monitor";export{t as default};
