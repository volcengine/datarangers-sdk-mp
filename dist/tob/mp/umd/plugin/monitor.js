!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).$$LOGSDK_PLUGIN_MONITOR=t()}(this,(function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,i,o;return n=t,(i=[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t;var i=this.sdk.types;this.options.disable_sdk_monitor||this.options.channel_domain||this.sdk.on(i.Ready,(function(){n.reportLoad()}))}},{key:"reportLoad",value:function(){var e=this.sdk.env.get(),t=e.user,n=e.header,i=this.sdk.env.merge([{event:"onload",params:Object.assign(Object.assign(Object.assign({},t),n),this.options)}]);i[0].header.app_id=1338,this.report(i)}},{key:"report",value:function(e){if(!this.reportUrl){var t=this.sdk.get("report_url");if(!t)return;t+=(t.indexOf("?")?"&":"?")+"type=monitor",this.reportUrl=t}this.sdk.adapter.request({url:this.reportUrl,method:"POST",header:{"X-MCS-AppKey":"566f58151b0ed37e"},data:e})}}])&&e(n.prototype,i),o&&e(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n,t}();return t.pluginName="official:monitor",t}));
